<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Perfil</title>
    <link rel="stylesheet" href="../static/styles/editProfile.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src='../static/vendor/editProfile_widgets_movement.js'></script>
    <script src="../static/js/urls.js"></script>
    <script src="../static/js/effects.js"></script>
    <script src="../static/js/update_credentials.js"></script>
    <script src="../static/js/check_credentials.js"></script>
</head>
<body onload="resizeWidgets()" onresize="resizeWidgets()">
    <div class="container-fluid">
        <div class="navbar-header">
            <button class="watchit-button" id="watchit-button" onmouseenter="decreaseButtonBrightness('watchit-button')" onmouseout="resetButtonBrightness('watchit-button')" onclick="returnToHomePage()">WatchIt</button>
        </div>
    </div>
    <div class="box" id="editProfileBox">
        <div>
            <img class="profile-image" src="../static/images/other_images/icon-profile.png" id="profileImage">
            <p class="username-title" id="usernameTitle">{{ username }}</p>
            <div class="editable-info-div">
                <div class="container text-center">    
                    <div class="row">
                        <div class="col-sm-4" style="width: 20vw;">
                            <div class="editable-username-div">
                                <p class="username-text" id="usernameLabel">Username:</p>
                                <div class="username-editable-div">
                                    <label class="username" id="editableUsername">{{ username }}</label>
                                    <button class="edit-username-button" id="editUsernameButton" onclick="showHideNewUsernameDiv()"></button>
                                </div>
                                <div class="new-username-div" id="new-username-div">
                                    <form action="/editarPerfil" method="post">
                                        <input class="new-username-input" id="newUsername" name="newUsernameInput" type="text" oninput="checkNewUsername()">
                                        <button class="save-new-username-button" id="saveNewUsernameButton" name="saveNewUsername" value="Salvar Username">Salvar Username</button>
                                        <h1 class="invalid-username-label" id="invalidUsernameLabel"></h1>
                                    </form>
                                </div>
                            </div>
                            <div class="editable-email-div">
                                <p class="email-text" id="emailLabel">Email:</p>
                                <div class="email-editable-div">
                                    <label class="email" id="editableEmail">{{ email_address }}</label>
                                    <button class="edit-email-button" id="edit-email-button" onclick="showHideNewEmailDiv()"></button>
                                </div>
                                <div class="new-email-div" id="new-email-div">
                                    <form action="/editarPerfil" method="post">
                                        <input class="new-email-input" id="newEmail" name="newEmailInput" type="text" oninput="checkNewEmail()">
                                        <button class="save-new-email-button" name="saveNewEmail" value="Salvar Email" id="saveNewEmailButton">Salvar Email</button>
                                        <h1 class="invalid-email-label" id="invalidEmailLabel"></h1>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4" style="width: 20vw;">
                            <div class="editable-password-div">
                                <p class="password-text" id="passwordLabel">Password:</p>
                                <div class="password-editable-div">
                                    <button class="change-password-button" id="changePasswordButton" onclick="redirectToInsertVerificationCodePage()">Alterar Password</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>